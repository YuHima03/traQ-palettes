@inject NavigationManager Navigation
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@code {
    protected override void OnInitialized()
    {
        var redirect = Navigation.ToBaseRelativePath(Navigation.Uri);
        if (!redirect.StartsWith("/"))
        {
            redirect = "/" + redirect;
        }
        Navigation.NavigateToLogin($"login?redirect={Uri.EscapeDataString(redirect)}");
    }
}
